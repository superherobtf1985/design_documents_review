# ER図2-Q1

## 全体
- 登録日、更新日を記載していない
- 配送先テーブルがない
- 入荷テーブルがない

## 管理人
- 管理者と他テーブルのリレーションがある

## エンドユーザー
- 論理削除が考慮されていない

## 商品
- アーティスト名、レーベル名、ジャンル名がベタ打ち
- 曲カラムがある
- 販売日が考慮されていない
- 在庫数カラムを持っている
- 複数ディスクの考慮がない
- ステータスが何のステータスか不明
- 曲テーブルがない

## カート
- ジャケット画像やアーティスト名は商品idから引っ張れるためカラム不要
- 顧客idがない
- テーブルの役割としてはカート内商品テーブルなのに、「カートテーブル」という名前になっている
- PKが注文IDになっていますが、テーブル名と一致していません。

## 決済
- 管理者側から見たら受注
- 配送先の郵便番号、氏名がない
- 合計金額、送料、消費税をもっていない
- 送料カラムをもっていない
- 決済後もカート内にデータは残ってしまう。カート情報を購入後も持つ必要はないためFKとしてカートidは不要
- 配送ステータスがない
- 購入日カラムは「作成日(created_at)」で実現できるかと思いますので、必須ではありません。

## 購入履歴
- PKを書いていない
- 注文した商品が何か確認できない(商品id)
- 購入ステータスは決済にもたせる
- 数量、購入時価格がない


# ER図2-Q2
## 全体
- 配送先テーブルがない

## エンドユーザー
- 姓名の「名」を入力するカラムがない

## 商品
- ディスクとのリレーションの関係が逆
- ディスク枚数カラムがある
- 販売日がない
- 在庫数カラムを持っている

## ディスク
- 曲とのリレーションの関係が逆
- ディスクの順番を管理するカラムがない

## 曲名
- 曲順を管理するカラムがない(これがトラックNoになる？)

## カートアイテム
- PKがない
- 数量カラムがない
- 商品idから商品の値段をとってきて、購入枚数×値段が小計になるため、小計金額は不要

## 購入
- 管理者側から見たら受注
- 購入日カラムを持っている
- 配送ステータスがない

## 購入詳細
- 商品idをもっていない
- 購入とのリレーションが逆
- テーブル名の見直しが必要。管理者側から見たら受注


## 管理者
- 管理者と他テーブルのリレーションがある
  
## ジャンル・レーベル
- 「ジャンル」「レーベル」テーブルに対して「ジャンル」「レーベル」というカラムがありますが、属性とエンティティが同名になっていては、何を指しているのか分かりません。
- 「名前」を表示したいため、nameなどにしてもらう

