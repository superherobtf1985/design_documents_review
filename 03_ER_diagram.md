# ER図2-Q1

## 全体
- 登録日、更新日を記載していない
- 配送先テーブルがない
- 曲テーブルがない
  - [check]指摘事項としてはOKですが、実際の説明の時は商品テーブルの箇所で指摘した方が良いかと思います。
    商品→ディスク→曲と紐づいたエンティティとなるので、それぞれのテーブルで指摘した方が受講生もリレーションのイメージは湧きやすいかと。
- 受注詳細テーブルがない
  - [check]受注関連のテーブルに関しては、決済・購入履歴が意図しているものとは近そうなので、どちらかのテーブルで指摘した方が理解は早そうな気がします。
- 入荷テーブルがない

## 管理人
- 管理者と他テーブルのアソシエーションがある
  - [check]リレーションと言った方がER図の概念としては適切です。アソシエーションはどちらかというとMVCモデルの「モデル同士の関連性」という意味に近いかも。

## エンドユーザー
- 論理削除が考慮されていない

## 商品
- アーティスト名、レーベル名、ジャンル名がベタ打ち
- 曲カラムがある
- 販売日が考慮されていない
- 在庫数カラムを持っている
- 複数ディスクの考慮がない
- [add]ステータスが「何のステータスを表しているか」は、一見して分かりますか。

## カート
- カートのテーブルなのにジャケット画像やアーティスト名のカラムがある
  - [check]着目点はOKです。これはどうすることで解決できますか。
- 顧客idがない
- テーブルの役割としてはカート内商品テーブルなのに、「カートテーブル」という名前になっている
- [add] PKが注文IDになっていますが、テーブル名と一致していません。

## 決済
- 管理者側から見たら受注
  - [check] OKです。
    加えて、「決済」というエンティティがNGな理由ですが、この命名だと持ちそうな属性は「支払い方法」「支払い金額」などになり、注文情報を持たないテーブルと認識されそうであることが挙げられます。
- 配送先情報がない
  - [check] 住所カラムがあるので、一応配送先情報が必要という認識はあるようです。逆に、「住所カラムしかない」のは問題です。
- 合計金額をもっていない
- 送料カラムをもっていない
- [add] カートidをFKとして持っているのはNGです。理由と合わせて、項目として追加しましょう。
- [add] 購入日カラムは「作成日(created_at)」で実現できるかと思いますので、必須ではありません。

## 購入履歴
- PKを書いていない
- [add] 注文した商品が何か確認できない
- [add] 購入ステータスはこのテーブルに持たせるのが適切か



# ER図2-Q2
## 全体
- 配送先テーブルがない

## エンドユーザー
- 論理削除の考慮がされていない
  - [delete] 「退会ステータス」が論理削除のフラグに該当するかと思います。
- [add] 姓名の「名」を入力するカラムがない

## 商品
- ディスクとのリレーションの関係が逆
- ディスク枚数カラムがある
- 販売日がない
- 在庫数カラムを持っている

## ディスク
- 曲とのリレーションの関係が逆
- [add]トラックNoがディスクカラムにあるのは適切でしょうか。どのエンティティの属性として持つべきか、考えてみましょう。

## 曲名
- 曲順を管理するカラムがない

## カートアイテム
- PKがない
- 数量カラムがない
  - [delete]購入枚数カラムが数量に相当するので、この場合はOKです。
  - [check]また、購入枚数カラムがある場合、小計金額は必要ありません。必要ない理由と合わせて、追記願います。

## 購入
- 管理者側から見たら受注
- 購入日カラムを持っている
- 配送ステータスがない

## 購入詳細
- 商品idをもっていない
- [add] 購入とのリレーションが逆
- [add] テーブル名の見直しが必要です。購入テーブルと同じ理由です。

## 管理者
- 管理者と他テーブルのアソシエーションがある
  - [check]アソシエーション→リレーションに変更
  
[add]下記テーブルについての指摘を追加してください。
## ジャンル・レーベル
- 「ジャンル」「レーベル」テーブルに対して「ジャンル」「レーベル」というカラムがありますが、属性とエンティティが同名になっていては、何を指しているのか分かりません。
- 「ジャンル」「レーベル」のどういった属性を表したいのか考えてもらう必要があります。(例えば、もし「ジャンル名」を表したいのであれば、そのように命名する必要があります。)


* マークダウン形式で記入してください。
* 全体を通しての指摘事項の場合、テーブル名の部分を「全体」「共通」などとしてください。
